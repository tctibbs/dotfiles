# Linux-specific tmux configuration
# =================================

# Clipboard integration - detect Wayland vs X11 vs WSL2

# Wayland (wl-copy)
if-shell '[ -n "$WAYLAND_DISPLAY" ]' {
    bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'wl-copy'
    bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'wl-copy'
    set -g @yank_selection 'clipboard'
}

# X11 (xclip)
if-shell '[ -z "$WAYLAND_DISPLAY" ] && [ -n "$DISPLAY" ]' {
    bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -selection clipboard'
    bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'xclip -selection clipboard'
    set -g @yank_selection 'clipboard'
}

# WSL2 (clip.exe)
if-shell '[ -n "$WSL_DISTRO_NAME" ]' {
    bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel '/mnt/c/Windows/System32/clip.exe'
    bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel '/mnt/c/Windows/System32/clip.exe'
}
